diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/configure.in.in src/kaffeine-0.8.7/kaffeine/configure.in.in
--- origsrc/kaffeine-0.8.7/kaffeine/configure.in.in	2008-01-20 11:50:52.000000000 -0600
+++ src/kaffeine-0.8.7/kaffeine/configure.in.in	2008-07-06 15:15:03.093750000 -0500
@@ -220,9 +220,15 @@
 dnl check for cdparanoia
 dnl --------------------
 
-KDE_CHECK_HEADER([cdda_interface.h], [with_cdparanoia=yes], [with_cdparanoia=no])
+AC_MSG_CHECKING([for cdparanoia])
+if "$PKG_CONFIG" --exists "libcdio_paranoia"; then
+	with_cdparanoia=yes
+	CFLAGS_PARANOIA=`"$PKG_CONFIG" --cflags libcdio_paranoia`
+	LIB_PARANOIA=`"$PKG_CONFIG" --libs libcdio_paranoia`
+	AC_MSG_RESULT([yes])
+else
+	AC_MSG_RESULT([no])
 
-if test "$with_cdparanoia" != "yes" ; then
 	echo ""
 	echo "-----------------------------------------"
 	echo "ERROR: Could not find cdparanoia headers."
@@ -231,6 +237,8 @@
 
 	AC_MSG_ERROR([could not find cdparanoia headers])
 fi
+AC_SUBST([CFLAGS_PARANOIA])
+AC_SUBST([LIB_PARANOIA])
 
 dnl ----------------------------
 dnl check for Ogg Vorbis encoder
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/input/disc/Makefile.am src/kaffeine-0.8.7/kaffeine/src/input/disc/Makefile.am
--- origsrc/kaffeine-0.8.7/kaffeine/src/input/disc/Makefile.am	2007-06-03 08:55:05.000000000 -0500
+++ src/kaffeine-0.8.7/kaffeine/src/input/disc/Makefile.am	2008-07-06 15:15:03.109375000 -0500
@@ -13,6 +13,7 @@
 	-I$(top_srcdir)/kaffeine/src/ \
 	-I$(top_srcdir)/kaffeine/src/player-parts/kaffeine-part \
 	-I$(top_srcdir)/kaffeine/src/input/disc/plugins \
+	$(CFLAGS_PARANOIA) \
 	$(all_includes) 
 
 libkaffeinedisc_la_SOURCES = disc.cpp \
@@ -28,7 +29,7 @@
 libkaffeinedisc_la_LIBADD = $(top_builddir)/kaffeine/src/input/libkaffeineinput.la \
 	$(top_builddir)/kaffeine/src/player-parts/kaffeine-part/libkaffeinepart.la \
 	$(top_builddir)/kaffeine/src/input/disc/plugins/libkaffeineaudioencoder.la \
-	-lcdda_interface -lcdda_paranoia
+	$(LIB_PARANOIA)
 
 # this is where the XML-GUI resource file goes
 shellrcdir   = $(kde_datadir)/kaffeine
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/input/disc/paranoia.cpp src/kaffeine-0.8.7/kaffeine/src/input/disc/paranoia.cpp
--- origsrc/kaffeine-0.8.7/kaffeine/src/input/disc/paranoia.cpp	2007-06-03 08:55:05.000000000 -0500
+++ src/kaffeine-0.8.7/kaffeine/src/input/disc/paranoia.cpp	2008-07-06 15:15:03.125000000 -0500
@@ -120,7 +120,7 @@
 {
 }
 
-void paranoiaCallback( long, int )
+void paranoiaCallback( long, paranoia_cb_mode_t )
 {
 }
 
@@ -396,7 +396,7 @@
 		curpos = currentSector;
 		endpos = endOfTrack;
 		if ( normalize ) {
-			len = CD_FRAMESIZE_RAW;
+			len = CDIO_CD_FRAMESIZE_RAW;
 			fn.open( IO_ReadWrite | IO_Truncate );
 			do {
 				buf = paranoia_read_limited( p, paranoiaCallback, 3 );
@@ -419,7 +419,7 @@
 			while ( curpos<endpos && len!=0 );
 
 			factor = 32767.0/max;
-			buf = new signed short[CD_FRAMESIZE_RAW];
+			buf = new signed short[CDIO_CD_FRAMESIZE_RAW];
 			fn.at( 0 );
 			f.open( IO_ReadWrite | IO_Truncate );
 			currentEncoder->start( encodingList[i].remove(0,3), encodingList[0], encodingList[1], encodingList[i].left(2) );
@@ -428,7 +428,7 @@
 				f.writeBlock( encoded, len );
 
 			do {
-				len = fn.readBlock( (char*)buf, CD_FRAMESIZE_RAW );
+				len = fn.readBlock( (char*)buf, CDIO_CD_FRAMESIZE_RAW );
 				if ( len>0 ) {
 					if ( max<32760 )
 						for ( n=0; n<len/2; ++n )
@@ -455,7 +455,7 @@
 			encoded = currentEncoder->getHeader( len );
 			if ( encoded )
 				f.writeBlock( encoded, len );
-			len = CD_FRAMESIZE_RAW;
+			len = CDIO_CD_FRAMESIZE_RAW;
 			do {
 				buf = paranoia_read_limited( p, paranoiaCallback, 3 );
 				if ( Q_BYTE_ORDER == Q_BIG_ENDIAN ) {
@@ -514,7 +514,7 @@
 	QString s, c;
 	long total;
 
-	total = CD_FRAMESIZE_RAW * (cdda_track_lastsector( d, t+1 )-cdda_track_firstsector( d, t+1 ) );
+	total = CDIO_CD_FRAMESIZE_RAW * (cdda_track_lastsector( d, t+1 )-cdda_track_firstsector( d, t+1 ) );
 	if ( total>(1048576 ) ) s = c.setNum(total/1048576.0, 'f', 2)+" "+i18n("MB");
 	else if ( total>1024 ) s = c.setNum(total/1024.0, 'f', 2)+" "+i18n("KB");
 	else s = c.setNum(total*1.0, 'f', 2)+" "+i18n("Bytes");
@@ -532,8 +532,8 @@
 	long total, time;
 	int m, s;
 
-	if ( t<0 ) total = CD_FRAMESIZE_RAW * (cdda_disc_lastsector( d )-cdda_disc_firstsector( d ) );
-	else total = CD_FRAMESIZE_RAW * (cdda_track_lastsector( d, t+1 )-cdda_track_firstsector( d, t+1 ) );
+	if ( t<0 ) total = CDIO_CD_FRAMESIZE_RAW * (cdda_disc_lastsector( d )-cdda_disc_firstsector( d ) );
+	else total = CDIO_CD_FRAMESIZE_RAW * (cdda_track_lastsector( d, t+1 )-cdda_track_firstsector( d, t+1 ) );
 	time = (8 * total) / (44100 * 2 * 16);
 	m = time/60;
 	s = time%60;
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/input/disc/paranoia.h src/kaffeine-0.8.7/kaffeine/src/input/disc/paranoia.h
--- origsrc/kaffeine-0.8.7/kaffeine/src/input/disc/paranoia.h	2007-06-03 08:55:05.000000000 -0500
+++ src/kaffeine-0.8.7/kaffeine/src/input/disc/paranoia.h	2008-07-06 15:15:03.125000000 -0500
@@ -32,8 +32,7 @@
 
 extern "C"
 {
-#include <cdda_interface.h>
-#include <cdda_paranoia.h>
+#include <cdio/paranoia.h>
 }
 
 class KiloConfig : public ParanoiaSettings
@@ -92,7 +91,7 @@
 
 	long nTracks;
 	cdrom_drive *d;
-	cdrom_paranoia *p;
+	cdrom_paranoia_t *p;
 	long currentSector, endOfTrack;
 	bool isRunning;
 	QStringList encodingList;
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/input/disc/plugins/Makefile.am src/kaffeine-0.8.7/kaffeine/src/input/disc/plugins/Makefile.am
--- origsrc/kaffeine-0.8.7/kaffeine/src/input/disc/plugins/Makefile.am	2008-01-20 11:50:47.000000000 -0600
+++ src/kaffeine-0.8.7/kaffeine/src/input/disc/plugins/Makefile.am	2008-07-06 15:15:03.140625000 -0500
@@ -18,7 +18,7 @@
 kaffeineinclude_HEADERS = kaffeineaudioencoder.h
 
 libkaffeineaudioencoder_la_SOURCES = kaffeineaudioencoder.cpp
-libkaffeineaudioencoder_la_LIBADD  = $(LIB_KPARTS)
+libkaffeineaudioencoder_la_LIBADD  = $(LIB_KPARTS) $(LIB_KDEUI) $(LIB_KDECORE) $(LIB_QT)
 libkaffeineaudioencoder_la_LDFLAGS = $(all_libraries) -version-info 0:1:0 -no-undefined
 
 kde_servicetypes_DATA = kaffeineaudioencoder.desktop
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/input/disc/plugins/mp3lame/Makefile.am src/kaffeine-0.8.7/kaffeine/src/input/disc/plugins/mp3lame/Makefile.am
--- origsrc/kaffeine-0.8.7/kaffeine/src/input/disc/plugins/mp3lame/Makefile.am	2008-01-20 11:50:47.000000000 -0600
+++ src/kaffeine-0.8.7/kaffeine/src/input/disc/plugins/mp3lame/Makefile.am	2008-07-06 15:15:03.140625000 -0500
@@ -9,8 +9,8 @@
 noinst_HEADERS =  klameenc.h
 
 libkaffeinemp3lame_la_SOURCES = klameenc.cpp lameconfig.ui
-libkaffeinemp3lame_la_LIBADD  = ../libkaffeineaudioencoder.la $(LIB_LAME)
-libkaffeinemp3lame_la_LDFLAGS = -module $(KDE_PLUGIN) $(all_libraries) -avoid-version -no-undefined
+libkaffeinemp3lame_la_LIBADD  = ../libkaffeineaudioencoder.la $(LIB_KPARTS) $(LIB_KDEUI) $(LIB_KDECORE) $(LIB_QT) $(LIB_LAME)
+libkaffeinemp3lame_la_LDFLAGS = -module $(KDE_PLUGIN) $(all_libraries)
 
 # this is where the desktop file will go
 partdesktopdir   = $(kde_servicesdir)
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/input/disc/plugins/oggvorbis/Makefile.am src/kaffeine-0.8.7/kaffeine/src/input/disc/plugins/oggvorbis/Makefile.am
--- origsrc/kaffeine-0.8.7/kaffeine/src/input/disc/plugins/oggvorbis/Makefile.am	2008-01-20 11:50:47.000000000 -0600
+++ src/kaffeine-0.8.7/kaffeine/src/input/disc/plugins/oggvorbis/Makefile.am	2008-07-06 15:15:03.156250000 -0500
@@ -9,8 +9,8 @@
 noinst_HEADERS =  koggenc.h
 
 libkaffeineoggvorbis_la_SOURCES = koggenc.cpp oggconfig.ui
-libkaffeineoggvorbis_la_LIBADD  = ../libkaffeineaudioencoder.la $(LIB_OGGVORBIS)
-libkaffeineoggvorbis_la_LDFLAGS = -module $(KDE_PLUGIN) $(all_libraries) -avoid-version -no-undefined
+libkaffeineoggvorbis_la_LIBADD  = ../libkaffeineaudioencoder.la $(LIB_KPARTS) $(LIB_KDEUI) $(LIB_KDECORE) $(LIB_QT) $(LIB_OGGVORBIS)
+libkaffeineoggvorbis_la_LDFLAGS = -module $(KDE_PLUGIN) $(all_libraries)
 
 # this is where the desktop file will go
 partdesktopdir   = $(kde_servicesdir)
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/instwizard.cpp src/kaffeine-0.8.7/kaffeine/src/instwizard.cpp
--- origsrc/kaffeine-0.8.7/kaffeine/src/instwizard.cpp	2007-06-03 08:55:14.000000000 -0500
+++ src/kaffeine-0.8.7/kaffeine/src/instwizard.cpp	2008-07-06 15:15:03.484375000 -0500
@@ -118,6 +118,12 @@
 	//LIBDVDCSS
 	info << "<br><hr><b>" << "libdvdcss" << "...</b><br>";
 	bool dvdcss = false;
+#ifdef Q_OS_CYGWIN
+	d = QDir("/usr/bin");
+	entries = d.entryList("cygdvdcss-*.dll");
+	if (entries.count())
+		dvdcss = true;
+#else
 	d = QDir("/usr/lib");
 	entries = d.entryList("libdvdcss.so*");
 	if (entries.count())
@@ -136,6 +142,7 @@
 				dvdcss = true;
 		}
 	}
+#endif /* ! Q_OS_CYGWIN */
 	if (!dvdcss)
 		info << "<font color=\"DarkRed\">" << i18n("libdvdcss not found. You're not able to play encrypted (most commercial) DVD's. You can get the library here (but using it may violate copyright regulations of your country!):")
 		<< " <a href=\"http://developers.videolan.org/libdvdcss/\">http://developers.videolan.org/libdvdcss</a>.</font>";
@@ -149,9 +156,9 @@
 	connect(&process, SIGNAL(receivedStdout(KProcess*,char*,int)), this, SLOT(slotStdout(KProcess*, char*, int)));
 	process.start(KProcess::Block, KProcess::Stdout);
 
-	if (stdout.contains('1'))
+	if (getStdout.contains('1'))
 		info << "<font color=\"DarkGreen\">" << i18n("Ok.") << "</font>";
-	else if (stdout.contains('0'))
+	else if (getStdout.contains('0'))
 		info << "<font color=\"DarkRed\">" << i18n("DMA mode off! For smooth DVD playback run as root:") +  " \"hdparm -d1 /dev/dvd\".</font>";
 	else
 		info << "<font color=\"DarkBlue\">" << i18n("Can't check DMA mode. Permission denied or no such device:")
@@ -274,5 +281,5 @@
 {
 	QString output = QString::fromLatin1(buffer, buflen);
 	kdDebug() << "WizardDialog: got from hdparm: " << output << "\n";
-	stdout.append(output);
+	getStdout.append(output);
 }
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/instwizard.h src/kaffeine-0.8.7/kaffeine/src/instwizard.h
--- origsrc/kaffeine-0.8.7/kaffeine/src/instwizard.h	2007-06-03 08:55:14.000000000 -0500
+++ src/kaffeine-0.8.7/kaffeine/src/instwizard.h	2008-07-06 15:15:03.500000000 -0500
@@ -44,7 +44,7 @@
 
 	void internalWizard();
 
-	QString stdout;
+	QString getStdout;
 
 	InstWizard(const InstWizard &);
 	InstWizard operator=(const InstWizard &);
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/player-parts/dummy-part/Makefile.am src/kaffeine-0.8.7/kaffeine/src/player-parts/dummy-part/Makefile.am
--- origsrc/kaffeine-0.8.7/kaffeine/src/player-parts/dummy-part/Makefile.am	2008-01-20 11:50:50.000000000 -0600
+++ src/kaffeine-0.8.7/kaffeine/src/player-parts/dummy-part/Makefile.am	2008-07-06 15:15:03.500000000 -0500
@@ -8,8 +8,8 @@
 noinst_HEADERS =  dummy_part.h
 
 libdummypart_la_SOURCES = dummy_part.cpp
-libdummypart_la_LIBADD  = $(LIB_KPARTS) $(LIB_KFILE) ../libkaffeinepart.la
-libdummypart_la_LDFLAGS = -module $(KDE_PLUGIN) $(all_libraries) -avoid-version -no-undefined
+libdummypart_la_LIBADD  = ../kaffeine-part/libkaffeinepart.la $(LIB_KPARTS) $(LIB_KIO) $(LIB_KDEUI) $(LIB_KDECORE) $(LIB_QT)
+libdummypart_la_LDFLAGS = -module $(KDE_PLUGIN) $(all_libraries)
 
 # this is where the desktop file will go
 partdesktopdir   = $(kde_servicesdir)
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/player-parts/gstreamer-part/Makefile.am src/kaffeine-0.8.7/kaffeine/src/player-parts/gstreamer-part/Makefile.am
--- origsrc/kaffeine-0.8.7/kaffeine/src/player-parts/gstreamer-part/Makefile.am	2008-01-20 11:50:50.000000000 -0600
+++ src/kaffeine-0.8.7/kaffeine/src/player-parts/gstreamer-part/Makefile.am	2008-07-06 15:15:03.515625000 -0500
@@ -7,8 +7,8 @@
 noinst_HEADERS =  gstreamer_part.h timer.h video.h videosettings.h gstreamerconfig.h
 
 libgstreamerpart_la_SOURCES = gstreamer_part.cpp video.cpp timer.cpp videosettings.cpp gstreamerconfig.cpp
-libgstreamerpart_la_LIBADD  = $(LIB_KPARTS) $(LIB_KFILE) ../kaffeine-part/libkaffeinepart.la
-libgstreamerpart_la_LDFLAGS = -module $(KDE_PLUGIN) $(LIB_GSTREAMER) -lgstinterfaces-0.10 $(all_libraries) -avoid-version -no-undefined
+libgstreamerpart_la_LIBADD  = ../kaffeine-part/libkaffeinepart.la $(LIB_KPARTS) $(LIB_KFILE) $(LIB_KDEUI) $(LIB_KDECORE) $(LIB_QT) $(LIB_GSTREAMER) -lgstinterfaces-0.10
+libgstreamerpart_la_LDFLAGS = -module $(KDE_PLUGIN) $(all_libraries)
 
 # this is where the desktop file will go
 partdesktopdir   = $(kde_servicesdir)
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/player-parts/kaffeine-part/Makefile.am src/kaffeine-0.8.7/kaffeine/src/player-parts/kaffeine-part/Makefile.am
--- origsrc/kaffeine-0.8.7/kaffeine/src/player-parts/kaffeine-part/Makefile.am	2008-01-20 11:50:50.000000000 -0600
+++ src/kaffeine-0.8.7/kaffeine/src/player-parts/kaffeine-part/Makefile.am	2008-07-06 15:15:03.515625000 -0500
@@ -8,5 +8,5 @@
 METASOURCES = AUTO
 
 libkaffeinepart_la_SOURCES = kaffeinepart.cpp mrl.cpp playlistimport.cpp
-libkaffeinepart_la_LIBADD  = $(LIB_KPARTS) $(all_libraries)
-libkaffeinepart_la_LDFLAGS = -no-undefined -avoid-version
+libkaffeinepart_la_LIBADD  = $(LIB_KPARTS) $(LIB_KIO) $(LIB_KDEUI) $(LIB_KDECORE) $(LIB_QT)
+libkaffeinepart_la_LDFLAGS = -no-undefined -avoid-version $(all_libraries)
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/player-parts/xine-part/Makefile.am src/kaffeine-0.8.7/kaffeine/src/player-parts/xine-part/Makefile.am
--- origsrc/kaffeine-0.8.7/kaffeine/src/player-parts/xine-part/Makefile.am	2007-06-03 08:55:03.000000000 -0500
+++ src/kaffeine-0.8.7/kaffeine/src/player-parts/xine-part/Makefile.am	2008-07-06 15:15:03.781250000 -0500
@@ -13,8 +13,8 @@
 libxinepart_la_SOURCES = xine_part.cpp kxinewidget.cpp postfilter.cpp deinterlacequality.cpp \
                              videosettings.cpp filterdialog.cpp screenshotpreview.cpp xineconfig.cpp positionslider.cpp \
                              equalizer.cpp xine_part_iface.skel
-libxinepart_la_LIBADD  = $(LIB_XINERAMA) $(LIB_XINE) $(LIB_XCB) ../kaffeine-part/libkaffeinepart.la
-libxinepart_la_LDFLAGS = -module $(KDE_PLUGIN) $(all_libraries) -avoid-version -no-undefined
+libxinepart_la_LIBADD  = ../kaffeine-part/libkaffeinepart.la  $(LIB_KPARTS) $(LIB_KIO) $(LIB_KDEUI) $(LIB_KDECORE) -lDCOP $(LIB_QT) $(LIB_XINERAMA) $(LIB_XINE) $(LIB_XCB)
+libxinepart_la_LDFLAGS = -module $(KDE_PLUGIN) $(all_libraries)
 
 
 # this is where the desktop file will go
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x 'libtool.m4.in*' -x configure.bak -x configure.files -x acinclude.m4 -x subdirs -x configure.in origsrc/kaffeine-0.8.7/kaffeine/src/player-parts/xine-part/kxinewidget.h src/kaffeine-0.8.7/kaffeine/src/player-parts/xine-part/kxinewidget.h
--- origsrc/kaffeine-0.8.7/kaffeine/src/player-parts/xine-part/kxinewidget.h	2007-11-15 03:05:57.000000000 -0600
+++ src/kaffeine-0.8.7/kaffeine/src/player-parts/xine-part/kxinewidget.h	2008-07-06 15:15:03.796875000 -0500
@@ -509,7 +509,7 @@
 	QTimer dvbOSDHideTimer;
 	xine_osd_t *dvbOSD;
 	QStringList dvbCurrentNext;
-	unsigned int dvbColor[256];
+	uint32_t dvbColor[256];
 	unsigned char dvbTrans[256];
 	void initDvbPalette();
 };
